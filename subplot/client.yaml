- given: "an installed obnam"
  function: install_obnam

- given: "a client config based on {filename}"
  function: configure_client

- when: "I invoke obnam --config {filename} restore <{genid}> {todir}"
  function: run_obnam_restore

- when: "I invoke obnam --config {filename} restore latest {todir}"
  function: run_obnam_restore_latest

- then: "backup generation is {varname}"
  function: capture_generation_id

- then: "generation list contains <{gen_id}>"
  function: generation_list_contains

- then: "file {filename} was backed up because it was new"
  function: file_was_new

- then: "file {filename} was backed up because it was changed"
  function: file_was_changed

- then: "file {filename} was not backed up because it was unchanged"
  function: file_was_unchanged
